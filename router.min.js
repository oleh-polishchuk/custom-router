'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var Router=function(){function a(b){_classCallCheck(this,a),this.selectorAttribute='data-selector',this.linkAttribute='data-link',this.linkForSelectorAttribute='data-link-for-selector',this.routes=b||[]}return _createClass(a,[{key:'init',value:function init(){var b=this.getDefaultLink(),c=this.getCurrentLink();c&&this.isLinkDefined(c)?(this.hideContent(),this.showContentByLink(c)):b&&(this.updateState(b),this.hideContent(),this.showContentByLink(b)),this.initNavigationEventListener(),a.injectStyles(),a.log('Router successfully initialized')}},{key:'addRoute',value:function addRoute(b){this.routes.push(b)}},{key:'addRoutes',value:function addRoutes(b){var c=this;b.forEach(function(d){c.addRoute(d)})}},{key:'initNavigationEventListener',value:function initNavigationEventListener(){var c=this,b=$('['+this.linkAttribute+']');b.each(function(d,e){$(e).click(function(){var f=$(e).attr(''+c.linkAttribute),g=$(e).attr(''+c.linkForSelectorAttribute);if(c.updateState(f),c.hideContent(),g)c.showContentBySelector(g);else if(c.isLinkDefined(f))c.showContentByLink(f);else{var h=c.getDefaultLink();c.updateState(h),c.showContentByLink(h)}})})}},{key:'showContentByLink',value:function showContentByLink(b){var c=this.getSelectorByLink(b);$('['+this.selectorAttribute+'="'+c+'"]').each(function(d,e){var f=$(e);f.hasClass('show')||f.addClass('show')})}},{key:'showContentBySelector',value:function showContentBySelector(b){$('['+this.selectorAttribute+'="'+b+'"]').each(function(c,d){var e=$(d);e.hasClass('show')||e.addClass('show')})}},{key:'hideContent',value:function hideContent(){$('['+this.selectorAttribute+']').each(function(b,c){$(c).removeClass('show')})}},{key:'getCurrentLink',value:function getCurrentLink(){return window.location.pathname}},{key:'updateState',value:function updateState(b){window.history.pushState({},'title',b)}},{key:'getDefaultLink',value:function getDefaultLink(){var b=this.routes.find(function(c){return c.defaultUrl});return b&&b.url}},{key:'isLinkDefined',value:function isLinkDefined(b){return this.routes.find(function(c){return c.url===b})}},{key:'getSelectorByLink',value:function getSelectorByLink(b){var c=this.routes.find(function(d){return d.url===b});return c.selector}}],[{key:'injectStyles',value:function injectStyles(){var b=document.createElement('style');b.appendChild(document.createTextNode('\n            .show { \n                display: block; \n            }\n        ')),document.getElementsByTagName('body')[0].appendChild(b)}},{key:'log',value:function log(b){console.log('==> '+b)}}]),a}();
